{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"BeatAnalyzer"}],"languages":["swift"],"platforms":["iOS"]}]},{"kind":"content","content":[{"anchor":"Weitere-Details-zur-Signalverarbeitung","level":2,"type":"heading","text":"Weitere Details zur Signalverarbeitung"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Die Fourier-Transformation ist ein mathematisches Verfahren, das eine Funktion oder ein Signal in seine Frequenzkomponenten aufteilt. Sie wird verwendet, um eine kontinuierliche Funktion oder ein Signal, das im Zeitbereich dargestellt ist, in den Frequenzbereich zu transformieren. Die Transformation ermöglicht es, die Frequenzspektren der Funktion oder des Signals zu analysieren und zu modifizieren."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Im Kontext der Verarbeitung von Audiodaten in der “StrobeLight” App wird die Fourier-Transformation eingesetzt, um die Musikdaten in den Frequenzbereich zu transformieren und die rhythmischen Muster der Musik zu identifizieren. Die Transformation wird auf kleine Zeitintervalle angewendet, um die Frequenzspektren der Audiosignale zu extrahieren. Die resultierenden Frequenzspektren werden dann analysiert, um die Beats und Rhythmen der Musik zu erkennen und entsprechend zu timen."},{"type":"text","text":" "},{"type":"text","text":"Im untersten Frequenzbereich 0 - 200 Hz befinden sich die Bässe, welche uns interessieren. Mittels FT werden diese isoliert und in diskrete “Bins” aufgeteilt. Ein Bin stellt dabei einen Frequenzbereich dar."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Ein Derivat ist ein mathematisches Konzept, das die Rate der Veränderung einer Funktion an einem bestimmten Punkt beschreibt. Es gibt an, wie schnell oder langsam sich eine Funktion ändert, wenn sich die Eingangsvariable (in der Regel die Zeit) verändert."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Das Derivat einer Funktion kann als Steigung oder Gradient der Funktion an einem bestimmten Punkt interpretiert werden. Es gibt an, wie schnell die Funktion an diesem Punkt steigt oder fällt. Das Derivat einer Funktion kann sowohl positiv als auch negativ sein, abhängig davon, ob die Funktion an diesem Punkt ansteigt oder fällt."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Die Ableitung kann auch als Grenzwert einer Funktion definiert werden, wenn die Differenz zwischen zwei nahe beieinander liegenden Eingabewerten gegen Null geht. Es gibt verschiedene Methoden zur Berechnung von Ableitungen, wie z.B. die Differenzierung, die Produktregel und die Kettenregel."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"In der Praxis wird das Konzept der Ableitung in vielen Bereichen der Mathematik und der Naturwissenschaften angewendet, um die Veränderung von Größen wie Geschwindigkeit, Beschleunigung, Wachstum und Verfall zu quantifizieren. Es ist auch ein wichtiges Konzept in der Informatik, insbesondere bei der Optimierung von Algorithmen und der numerischen Analyse von Daten."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Für den untersten Bin wird das Derivat, das durchschnittliche Derivat und die Standardabweichung des durchschnittlichen Derivats laufend berechnet. Dies geschieht in so fern effizient, dass nicht eine Liste an Werten, sondern nur ein Zähler und der bis anhin erfasste Werte gespeichert werden."},{"type":"text","text":" "},{"type":"text","text":"Schlägt das Derivat über die 1.5x Standardabweichung aus, wird ein Blitz ausgelöst."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Hier nochmals im kompletten Schema:"}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"schema"}]},{"type":"paragraph","inlineContent":[{"type":"reference","isActive":true,"identifier":"https:\/\/en.wikipedia.org\/wiki\/Beat_detection"},{"type":"text","text":" "},{"type":"reference","isActive":true,"identifier":"http:\/\/www.owlnet.rice.edu\/~elec301\/Projects01\/beat_sync\/beatalgo.html"}]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/strobelight\/beatanalyzer"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/ch.buro-1.StrobeLight\/7Combine16ObservableObjectP"],"kind":"relationships","title":"Conforms To","type":"conformsTo"}],"identifier":{"url":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Diese Klasse bietet die nötige Infrastruktur um:"},{"type":"text","text":" "},{"type":"text","text":"- Mikrofonberechtigung einzuholen"},{"type":"text","text":" "},{"type":"text","text":"- Eine Audiositzung aufzubauen"},{"type":"text","text":" "},{"type":"text","text":"- Audio mittels Fourier Transformation in einzene Frequenz umzuwandeln"},{"type":"text","text":" "},{"type":"text","text":"- Frequenzbereiche in “Bins” zu packen (Frequenzbereiche zusammenfassen)"},{"type":"text","text":" "},{"type":"text","text":"- Derivate des untersten Bins berechnen (Änderungsrate berechnen)"},{"type":"text","text":" "},{"type":"text","text":"- S_1-Intervall des Derivates zu bestimmen"},{"type":"text","text":" "},{"type":"text","text":"- Bei überstreitung des S_1-Intervalls einen Blitz auszulösen"},{"type":"text","text":" "},{"type":"text","text":"TL;DR: Blitze auf Beats getimet auszulösen."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"BeatAnalyzer"}],"title":"BeatAnalyzer","roleHeading":"Class","role":"symbol","symbolKind":"class","externalID":"s:11StrobeLight12BeatAnalyzerC","modules":[{"name":"StrobeLight"}],"navigatorTitle":[{"kind":"identifier","text":"BeatAnalyzer"}]},"hierarchy":{"paths":[["doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight"]]},"topicSections":[{"title":"Initializers","identifiers":["doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/init()"]},{"title":"Instance Properties","identifiers":["doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/audioEngine","doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/avg_cnt","doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/avg_dev","doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/avg_value","doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/fftSetup","doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/lastBinsDerivative","doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/lastBinsres","doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/lastFFTres","doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/mixerNode"]},{"title":"Instance Methods","identifiers":["doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/processAudioData(buffer:)","doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/startListening()","doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/stopListening()"]},{"title":"Default Implementations","identifiers":["doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/ObservableObject-Implementations"],"generated":true}],"references":{"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/ObservableObject-Implementations":{"role":"collectionGroup","title":"ObservableObject Implementations","abstract":[],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/ObservableObject-Implementations","kind":"article","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/observableobject-implementations"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/mixerNode":{"role":"symbol","title":"mixerNode","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"mixerNode"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AVAudioMixerNode","preciseIdentifier":"c:objc(cs)AVAudioMixerNode"}],"abstract":[{"type":"text","text":"AVAudioEngine arbeitet mit einer Art Graph. Diese Node wird verwendet für unsere Verarbeitung"}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/mixerNode","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/mixernode"},"doc://ch.buro-1.StrobeLight/7Combine16ObservableObjectP":{"type":"unresolvable","title":"Combine.ObservableObject","identifier":"doc:\/\/ch.buro-1.StrobeLight\/7Combine16ObservableObjectP"},"https://en.wikipedia.org/wiki/Beat_detection":{"title":"Wikipedia","titleInlineContent":[{"type":"text","text":"Wikipedia"}],"type":"link","identifier":"https:\/\/en.wikipedia.org\/wiki\/Beat_detection","url":"https:\/\/en.wikipedia.org\/wiki\/Beat_detection"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/fftSetup":{"role":"symbol","title":"fftSetup","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"fftSetup"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"vDSP_DFT_Setup","preciseIdentifier":"c:@T@vDSP_DFT_Setup"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"Speicherallocation für Simultanvektor basiertes Fast-Fourier-Transform im komplexen Raum"}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/fftSetup","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/fftsetup"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/lastFFTres":{"role":"symbol","title":"lastFFTres","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"lastFFTres"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":"]"}],"abstract":[{"type":"text","text":"Letztes Resultat des Fourier-Transfromationsschrittes"}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/lastFFTres","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/lastfftres"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/avg_dev":{"role":"symbol","title":"avg_dev","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"avg_dev"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"}],"abstract":[{"type":"text","text":"Standartabweichung (s 1-Intervall) der Lautstärke im 1. Bin"}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/avg_dev","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/avg_dev"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/processAudioData(buffer:)":{"role":"symbol","title":"processAudioData(buffer:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"processAudioData"},{"kind":"text","text":"("},{"kind":"externalParam","text":"buffer"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AVAudioPCMBuffer","preciseIdentifier":"c:objc(cs)AVAudioPCMBuffer"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Circa alle 100ms wird dieses Callback mit einem 1024 Werte langem Audiobuffer aufgerufen."},{"type":"text","text":" "},{"type":"text","text":"Hier werden Mikrofondaten vom Systemtreiber übernommen, analysiert und ausgewertet"}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/processAudioData(buffer:)","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/processaudiodata(buffer:)"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/avg_cnt":{"role":"symbol","title":"avg_cnt","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"avg_cnt"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"}],"abstract":[{"type":"text","text":"n für die Durchschnittsberechnung"}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/avg_cnt","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/avg_cnt"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/lastBinsDerivative":{"role":"symbol","title":"lastBinsDerivative","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"lastBinsDerivative"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":"]"}],"abstract":[{"type":"text","text":"Letzte Änderungsraten der Lautstärke der Bins"}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/lastBinsDerivative","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/lastbinsderivative"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/lastBinsres":{"role":"symbol","title":"lastBinsres","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"lastBinsres"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"},{"kind":"text","text":"]"}],"abstract":[{"type":"text","text":"Letztes Resultat des Binning-Schrittes"}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/lastBinsres","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/lastbinsres"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/startListening()":{"role":"symbol","title":"startListening()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"startListening"},{"kind":"text","text":"() "},{"kind":"keyword","text":"throws"}],"abstract":[{"type":"text","text":"Startet eine Audiosession (übernimmt das Mikrofon) und hängt den Verarbeitungsgraphen an."}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/startListening()","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/startlistening()"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/avg_value":{"role":"symbol","title":"avg_value","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"avg_value"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Float","preciseIdentifier":"s:Sf"}],"abstract":[{"type":"text","text":"Durchschnittliche Lautstärke des 1. Bins (tiefste Frequenz)"}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/avg_value","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/avg_value"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer":{"role":"symbol","title":"BeatAnalyzer","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"BeatAnalyzer"}],"abstract":[{"type":"text","text":"Diese Klasse bietet die nötige Infrastruktur um:"},{"type":"text","text":" "},{"type":"text","text":"- Mikrofonberechtigung einzuholen"},{"type":"text","text":" "},{"type":"text","text":"- Eine Audiositzung aufzubauen"},{"type":"text","text":" "},{"type":"text","text":"- Audio mittels Fourier Transformation in einzene Frequenz umzuwandeln"},{"type":"text","text":" "},{"type":"text","text":"- Frequenzbereiche in “Bins” zu packen (Frequenzbereiche zusammenfassen)"},{"type":"text","text":" "},{"type":"text","text":"- Derivate des untersten Bins berechnen (Änderungsrate berechnen)"},{"type":"text","text":" "},{"type":"text","text":"- S_1-Intervall des Derivates zu bestimmen"},{"type":"text","text":" "},{"type":"text","text":"- Bei überstreitung des S_1-Intervalls einen Blitz auszulösen"},{"type":"text","text":" "},{"type":"text","text":"TL;DR: Blitze auf Beats getimet auszulösen."}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"BeatAnalyzer"}],"url":"\/documentation\/strobelight\/beatanalyzer"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/stopListening()":{"role":"symbol","title":"stopListening()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"stopListening"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Stoppt die Verarbeitung von Audio"}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/stopListening()","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/stoplistening()"},"schema":{"alt":"Komplettes Verarbeitungsschema","type":"image","identifier":"schema","variants":[{"url":"\/images\/schema.png","traits":["1x","light"]}]},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/init()":{"role":"symbol","title":"init()","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"()"}],"abstract":[],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/init()","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/init()"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight/BeatAnalyzer/audioEngine":{"role":"symbol","title":"audioEngine","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"audioEngine"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"AVAudioEngine","preciseIdentifier":"c:objc(cs)AVAudioEngine"}],"abstract":[{"type":"text","text":"Empfängt Audiodaten vom System"}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight\/BeatAnalyzer\/audioEngine","kind":"symbol","type":"topic","url":"\/documentation\/strobelight\/beatanalyzer\/audioengine"},"http://www.owlnet.rice.edu/~elec301/Projects01/beat_sync/beatalgo.html":{"title":"Referenz, Algorithmus angepasst von hier","titleInlineContent":[{"type":"text","text":"Referenz, Algorithmus angepasst von hier"}],"type":"link","identifier":"http:\/\/www.owlnet.rice.edu\/~elec301\/Projects01\/beat_sync\/beatalgo.html","url":"http:\/\/www.owlnet.rice.edu\/~elec301\/Projects01\/beat_sync\/beatalgo.html"},"doc://ch.buro-1.StrobeLight/documentation/StrobeLight":{"role":"collection","title":"StrobeLight","abstract":[{"type":"text","text":"In diesem Projekt im Bereich der Informatik wird die Entwicklung einer App namens “StrobeLight” vorgestellt, die ein iPhone\/iOS-Gerät in ein Stroboskop verwandeln kann. Außerdem ist die App in der Lage, Musik auf Beats zu analysieren und die Lichtblitze rhytmisch zu timen. Ein einzigartiges visuelles Erlebnis entsteht, das für private Feiern und professionelle Auftritte genutzt werden kann. Die Funktionsweise der App sowie der Entwicklungsprozess werden in dieser Arbeit im Detail erläutert."}],"identifier":"doc:\/\/ch.buro-1.StrobeLight\/documentation\/StrobeLight","kind":"symbol","type":"topic","url":"\/documentation\/strobelight"}}}